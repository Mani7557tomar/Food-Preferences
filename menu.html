<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu | The Mom's Kitchen</title>
  <style>
    /* Your CSS remains the same — I've omitted it here for brevity */
    /* (Use the same CSS from your original code snippet) */
  </style>
</head>
<body>

  <header>
    The Mom's Kitchen
    <div class="cart-icon" onclick="goToCheckout()">
      <img src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png" alt="Cart" />
      <span class="badge" id="cartBadge">0</span>
    </div>
  </header>

  <div class="tabs" id="categoryTabs"></div>
  <div id="menuContainer"></div>
  <button id="checkoutBtn" onclick="goToCheckout()">Go to Checkout (0 items)</button>

  <script>
    const menuData = {
      "Drinks": [
        { name: "Lahori Jeera 160 ML", price: 10, image: "assets/Lahori_Zeera_160ml.png" },
        { name: "Bisleri Water Bottle", price: 20, image: "assets/Bisleri_Water_Bottle.png" },
        { name: "Soft Drinks", price: 20, image: "assets/Soft Drink 200 ML.png" },
        { name: "Sting Energy", price: 20, image: "assets/Sting Energy.jpeg" },
        { name: "Diet Coke", price: 25, image: "assets/Diet Coke.png" },
        { name: "Amul Kesar Milk", price: 25, image: "assets/Amul_kesar.png" },
        { name: "Coconut Water", price: 50, image: "assets/Coconut_Water.png" }
      ],
      "Shakes": [
        { name: "Chocolate Shake", price: 60, image: "assets/Chocolate Shake.png" },
        { name: "Strawberry Shake", price: 60, image: "assets/Strawberry-Shake.png" },
        { name: "Sattu Shake", price: 60, image: "assets/Sattu Shake.jpg" },
        { name: "Mango Shake", price: 60, image: "assets/MangoMilkshake4.png" },
        { name: "Banana Shake", price: 60, image: "assets/Banana_shake.png" },  
        { name: "Watermelon Juice", price: 60, image: "assets/Watermelon Juice.png" }
      ],
      "Tea & Coffee": [
        { name: "Masala Tea", price: 15, image: "assets/Masala Tea.png" },
        { name: "Black Tea", price: 15, image: "assets/Black_Tea.png" },
        { name: "Lemon Tea", price: 20, image: "assets/Lemon Tea.jpg" },
        { name: "Green Tea", price: 20, image: "assets/Green Tea.jpg" },
        { name: "Hot Coffee", price: 25, image: "assets/Hot Coffee.jpg" },
        { name: "Cold Coffee", price: 50, image: "assets/Cold Coffee.jpg" }
      ],
      "Classic Snacks": [
        { name: "Veg Sandwich", price: 20, image: "assets/Veg Sandvich.jpeg" },
        { name: "Cheese Sandwich", price: 40, image: "assets/Grilled Cheese Sandwich.jpeg" },
        { name: "Paneer Roll", price: 60, image: "assets/Paneer Roll.jpg" },
        { name: "Aloo Patties", price: 20, image: "assets/Aloo_Patties.png" },
        { name: "Masala Maggie", price: 40, image: "assets/Masala Maggie.jpg" }
      ]
    };

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let selectedCategory = Object.keys(menuData)[0];

    function updateCartStorage() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function updateCartBadge() {
      const totalQty = cart.reduce((sum, item) => sum + (parseInt(item.qty) || 0), 0);
      document.getElementById('cartBadge').innerText = totalQty;
      document.getElementById('checkoutBtn').innerText = `Go to Checkout (${totalQty} item${totalQty !== 1 ? 's' : ''})`;
    }

    function renderTabs() {
      const tabs = document.getElementById('categoryTabs');
      tabs.innerHTML = '';

      Object.keys(menuData).forEach(category => {
        const tab = document.createElement('div');
        tab.className = 'tab' + (category === selectedCategory ? ' active' : '');
        tab.innerText = category;
        tab.onclick = () => {
          selectedCategory = category;
          renderTabs();
          renderMenu();
        };
        tabs.appendChild(tab);
      });
    }

    function renderMenu() {
      const container = document.getElementById('menuContainer');
      container.innerHTML = '';

      const section = document.createElement('div');
      section.className = 'category';

      const title = document.createElement('h2');
      title.innerText = selectedCategory;
      section.appendChild(title);

      const grid = document.createElement('div');
      grid.className = 'menu';

      menuData[selectedCategory].forEach(item => {
        const cartItem = cart.find(i => i.name === item.name);
        const div = document.createElement('div');
        div.className = 'item';

        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}" />
          <h3>${item.name}</h3>
          <p>₹${item.price}</p>
        `;

        if (cartItem) {
          const qtyControl = document.createElement('div');
          qtyControl.className = 'qty-control';

          const dec = document.createElement('button');
          dec.innerText = '-';
          dec.onclick = () => {
            if (cartItem.qty > 1) {
              cartItem.qty--;
            } else {
              cart = cart.filter(i => i.name !== item.name);
            }
            updateCartStorage();
            renderMenu();
            updateCartBadge();
          };

          const qtyText = document.createElement('span');
          qtyText.innerText = cartItem.qty;

          const inc = document.createElement('button');
          inc.innerText = '+';
          inc.onclick = () => {
            cartItem.qty++;
            updateCartStorage();
            renderMenu();
            updateCartBadge();
          };

          qtyControl.appendChild(dec);
          qtyControl.appendChild(qtyText);
          qtyControl.appendChild(inc);
          div.appendChild(qtyControl);
        } else {
          const addButton = document.createElement('button');
          addButton.innerText = 'Add to Cart';
          addButton.onclick = () => {
            cart.push({ name: item.name, price: item.price, qty: 1 });
            updateCartStorage();
            renderMenu();
            updateCartBadge();
          };
          div.appendChild(addButton);
        }

        grid.appendChild(div);
      });

      section.appendChild(grid);
      container.appendChild(section);
    }

    function goToCheckout() {
      window.location.href = 'checkout.html';
    }

    // Initialize page
    renderTabs();
    renderMenu();
    updateCartBadge();
  </script>
</body>
</html>
